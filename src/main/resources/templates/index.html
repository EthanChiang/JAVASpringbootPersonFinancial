<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragment/base :: layout(~{::content})}">
<body>
<div th:fragment="content">
  <div id="cash-info">
    <h2>現金庫存</h2>
    <table class="table table-bordered">
      <tr>
        <td th:text="'台幣總額:' + ${data?.td ?: '0'} + ' 元'">台幣總額: 元</td>
        <td th:text="'美金總額:' + ${data?.ud ?: '0'} + ' 元'">美金總額: 元</td>
        <td th:text="'今日匯率:' + ${data?.currency ?: '0'} + ' 元'">今日匯率: 元</td>
        <td th:text="'現金總額:' + ${data?.total ?: '0'} + ' 元'">現金總額: 元</td>
      </tr>
    </table>

    <h4>現金更動紀錄</h4>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">台幣</th>
        <th scope="col">美金</th>
        <th scope="col">註記</th>
        <th scope="col">時間</th>
        <th scope="col">刪除資料</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="cash : ${data?.cashList ?: {}}">
        <td th:text="${cash.transactionId}">ID</td>
        <td th:text="${cash.taiwaneseDollars}">台幣</td>
        <td th:text="${cash.usDollars}">美金</td>
        <td th:text="${cash.note}">註記</td>
        <td th:text="${cash.dateInfo}">時間</td>
        <td>
          <form th:action="@{/cash/delete/{id}(id=${cash.transactionId})}" method="post">
            <input type="hidden" name="id" th:value="${cash.transactionId}" />
            <button class="btn btn-primary">刪除此筆資料</button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div id="stock-info">
    <h2>股票庫存</h2>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th scope="col">股票代號</th>
        <th scope="col">持有股數</th>
        <th scope="col">目前股價</th>
        <th scope="col">目前市值</th>
        <th scope="col">股票資產占比</th>
        <th scope="col">購買總成本</th>
        <th scope="col">平均成本</th>
        <th scope="col">報酬率(%)</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="stockData : ${data?.stockInfo ?: {}}">
        <td th:text="${stockData.stockId}">股票代號</td>
        <td th:text="${stockData.shares}">持有股數</td>
        <td th:text="${stockData.currentPrice}">目前股價</td>
        <td th:text="${stockData.totalValue}">目前市值</td>
        <td th:text="${stockData.valuePercentage}">股票資產占比</td>
        <td th:text="${stockData.stockCost}">購買總成本</td>
        <td th:text="${stockData.averageCost}">平均成本</td>
        <td th:text="${stockData.rateOfReturn}">報酬率(%)</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>